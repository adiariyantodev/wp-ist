const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;import"../../../libs/easepick.min.js";export default{props:{display:String,name:String,block:Object},data:()=>({loading:!0,range:!1,picker:!1,dateRange:"",date:{single:"",dateRange:{start:"",end:""},dateRangeComparison:{start:"",end:""}},strings:{placeholder:__("Input placeholder...","uipress-pro")}}),watch:{range:{handler(e,t){this.picker&&(this.picker.destroy(),this.mountPicker())}}},mounted(){this.mountPicker()},computed:{returnPlaceHolder(){const e=this.get_block_option(this.block,"block","inputPlaceHolder",!0);return e?this.isObject(e)?e.string?e.string:"":e:""},returnLabel(){const e=this.get_block_option(this.block,"block","inputLabel",!0);return e?this.isObject(e)?e.string?e.string:"":e:""},returnRequired(){return this.get_block_option(this.block,"block","inputRequired")},returnName(){return this.get_block_option(this.block,"block","inputName")},returnDateRange(){return this.range=this.get_block_option(this.block,"block","dateRange",!0),this.range},returnPickerArgs(){this.returnDateRange;return{element:this.$refs.datepicker,css:[uipProPath+"assets/css/libs/uip-datepicker.css"],lang:this.uipApp.data.options.locale,plugins:["RangePlugin","PresetPlugin","LockPlugin"],grid:2,calendars:2,LockPlugin:{maxDate:new Date},zIndex:99,RangePlugin:{tooltip:!0}}}},methods:{setGroupDates(e,t){const n=this.getChildIDS(),i=new CustomEvent("uipress/app/daterange/change",{detail:{groupDate:{start:e,end:t},IDS:n}});document.dispatchEvent(i)},getChildIDS(){const e=t=>{if(!Array.isArray(t))return[];let n=[];for(let i of t)n.push(i.uid),Array.isArray(i.content)&&(n=[...n,...e(i.content)]);return n};return this.block.content.length?e(this.block.content):[]},mountPicker(){this.picker=new easepick.create(this.returnPickerArgs),this.picker.on("select",this.handleDateChange)},handleDateChange(e){const t=this.picker.getStartDate(),n=this.picker.getEndDate();this.setGroupDates(t,n)}},template:'\n      <div class="uip-flex uip-flex-column">\n      \n        <div class="uip-background-muted uip-border-round uip-overflow-hidden uip-padding-xxs uip-flex uip-gap-xs uip-flex-center uip-date-input uip-inline-flex">\n          <div class="uip-icon uip-text-l">calendar_month</div>\n          <input ref="datepicker" :value="dateRange" :name="returnName" :range="returnDateRange"\n          class="uip-blank-input uip-text-s" type="text" :placeholder="returnPlaceHolder" :required="returnRequired">\n        </div>\n        \n        <uip-content-area class="uip-date-group-area"\n        :content="block.content" :returnData="(data)=>{block.content = data}"/>\n        \n      </div>'};