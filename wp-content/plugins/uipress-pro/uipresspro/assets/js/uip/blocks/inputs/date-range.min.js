const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;import"../../../libs/easepick.min.js";export default{props:{display:String,name:String,block:Object},data:()=>({loading:!0,range:!1,picker:!1,formData:{},date:{single:"",dateRange:{start:"",end:""},dateRangeComparison:{start:"",end:""}},strings:{placeholder:__("Input placeholder...","uipress-pro")}}),watch:{range:{handler(e,t){this.picker&&(this.picker.destroy(),this.mountPicker())}}},mounted(){document.addEventListener("uipress/app/forms/change",this.handleFormChange),this.mountPicker()},beforeUnmount(){document.removeEventListener("uipress/app/forms/change",this.handleFormChange)},computed:{returnPlaceHolder(){const e=this.get_block_option(this.block,"block","inputPlaceHolder",!0);return e?this.isObject(e)?e.string?e.string:"":e:""},returnPopulated(){if(this.returnName in this.formData)return this.formData[this.returnName]},returnLabel(){const e=this.get_block_option(this.block,"block","inputLabel",!0);return e?this.isObject(e)?e.string?e.string:"":e:""},returnRequired(){let e=this.get_block_option(this.block,"block","inputRequired");return this.isObject(e)?e.value:e},returnName(){return this.get_block_option(this.block,"block","inputName")},returnDateRange(){return this.range=this.get_block_option(this.block,"block","dateRange",!0),this.range},returnPickerArgs(){this.returnDateRange;return{element:this.$refs.datepicker,css:[uipProPath+"assets/css/libs/uip-datepicker.css"],lang:this.uipApp.data.options.locale,plugins:["RangePlugin","PresetPlugin","LockPlugin"],grid:2,calendars:2,LockPlugin:{maxDate:new Date},zIndex:99,RangePlugin:{tooltip:!0}}}},methods:{mountPicker(){this.picker=new easepick.create(this.returnPickerArgs)},handleFormChange(e){e.detail.IDS&&Array.isArray(e.detail.IDS)&&e.detail.IDS.includes(this.block.uid)&&(this.formData=e.detail.formData)}},template:'\n      <label class="uip-flex uip-flex-column" >\n        <span class="uip-input-label uip-text-muted uip-margin-bottom-xxs">{{returnLabel}}</span>\n        <div class="uip-background-muted uip-border-round uip-overflow-hidden uip-padding-xxs uip-flex uip-gap-xs uip-flex-center uip-date-input">\n          <div class="uip-icon uip-text-l">calendar_month</div>\n          <input ref="datepicker" :name="returnName" :range="returnDateRange"\n          class="uip-blank-input uip-text-s" type="text" :placeholder="returnPlaceHolder" :required="returnRequired" :value="returnPopulated">\n        </div>\n      </label>'};