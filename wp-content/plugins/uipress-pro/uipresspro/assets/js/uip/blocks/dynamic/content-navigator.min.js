const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;import{VueDraggableNext}from"../../../libs/VueDraggableNext.js";const newFolder={props:{parent:[String,Number],list:Array,incrementCount:Function},data:()=>({newFolder:{name:"",color:"rgb(108, 76, 203)"},strings:{newFolder:__("New folder","uipress-pro"),folderName:__("Folder name","uipress-pro"),folderColor:__("Folder colour","uipress-pro"),create:__("Create","uipress-pro")}}),methods:{async createNewFolder(){if(""==this.newFolder.name)return void this.uipApp.notifications.notify(__("Folder name can not be blank","uipress-pro"),"","error",!0);let e=new FormData;e.append("action","uip_create_folder"),e.append("security",uip_ajax.security),e.append("folderParent",this.parent),e.append("folderName",this.newFolder.name),e.append("folderColor",this.newFolder.color);const i=await this.sendServerRequest(uip_ajax.ajax_url,e);i.error&&this.uipApp.notifications.notify(i.message,"","error",!0),i.success&&(void 0!==this.incrementCount&&this.incrementCount(1),this.uipApp.notifications.notify(__("Folder created","uipress-pro"),"","success",!0),this.isObject(i.folder)&&this.list.push(i.folder))}},template:'\n    <dropdown pos="right top">\n      <template v-slot:trigger>\n        <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-muted uip-border-round uip-no-text-select uip-max-w-100p uip-padding-xxs uip-padding-top-xxxs uip-padding-bottom-xxxs">\n          <div class="uip-icon uip-text-l">add</div>\n          <div class="uip-overflow-hidden uip-text-ellipsis uip-no-wrap uip-flex-grow">{{strings.newFolder}}</div>\n        </div>\n      </template>\n      <template v-slot:content>\n        <div class="uip-padding-s uip-flex uip-flex-column uip-row-gap-xxs">\n          <div class="uip-text-muted">{{strings.folderName}}</div>\n          <input type="text" v-model="newFolder.name" class="uip-text-s uip-input-small">\n          \n          <div class="uip-text-muted uip-margin-top-xs">{{strings.folderColor}}</div>\n          <div class="uip-background-muted uip-border-round uip-overflow-hidden uip-padding-xxs">\n            <div class="uip-flex uip-flex-row uip-gap-xxs uip-flex-center">\n              <color-select :value="{value:newFolder.color}" :returnData="(data)=>{ newFolder.color = data.value}"/>\n            </div>\n          </div>\n          \n          <button class="uip-button-primary uip-text-s uip-margin-top-s" @click="createNewFolder()">{{strings.create}}</button>\n        </div>\n      </template>\n    </dropdown>\n    '},contentFolder={name:"ContentFolder",components:{UipDraggable:VueDraggableNext,NewFolder:newFolder},props:{folder:Object,removeSelf:Function,currentID:[Number,String,Boolean],updateID:Function},data:()=>({loading:!1,defaults:[],newFolder:{name:"",color:"rgb(108, 76, 203)"},strings:{placeholder:__("Input placeholder...","uipress-pro"),new:__("New","uipress-pro"),loadMore:__("Load more","uipress-pro"),search:__("Search","uipress-pro"),view:__("View","uipress-pro"),edit:__("Edit","uipress-pro"),delete:__("Delete","uipress-pro"),folders:__("Folders","uipress-pro"),duplicate:__("Duplicate","uipress-pro"),folderName:__("Folder name","uipress-pro"),folderColor:__("Folder colour","uipress-pro"),update:__("Update","uipress-pro"),edit:__("Edit","uipress-pro")}}),inject:["limitToauthor","defaultLinkType","postTypes"],methods:{async getFolderContent(e){if(!this.folder.open)return;"page"in this.folder||(this.folder.page=1),e&&(this.folder.loading=!0);let i=new FormData;i.append("action","uip_get_folder_content"),i.append("security",uip_ajax.security),i.append("limitToauthor",this.limitToauthor),i.append("postTypes",JSON.stringify(this.postTypes)),i.append("page",this.folder.page),i.append("search",this.folder.search),i.append("id",this.folder.id);const t=await this.sendServerRequest(uip_ajax.ajax_url,i);this.folder.loading=!1,t.error&&this.uipApp.notifications.notify(t.message,"","error",!0),t.success&&(this.folder.totalFound=t.totalFound,this.folder.page>1?this.folder.content=this.folder.content.concat(t.content):this.folder.content=t.content)},async updateItemFolder(e){let i=new FormData;i.append("action","uip_update_item_folder"),i.append("security",uip_ajax.security),i.append("item",JSON.stringify(e)),i.append("newParent",this.folder.id);const t=await this.sendServerRequest(uip_ajax.ajax_url,i);this.folder.loading=!1,t.error&&this.uipApp.notifications.notify(t.message,"","error",!0),t.success&&(e.parent=this.folder.id)},async deleteFolder(){let e=new FormData;e.append("action","uip_delete_folder"),e.append("security",uip_ajax.security),e.append("postTypes",JSON.stringify(this.postTypes)),e.append("folderId",this.folder.id);const i=await this.sendServerRequest(uip_ajax.ajax_url,e);this.folder.loading=!1,i.error&&this.uipApp.notifications.notify(i.message,"","error",!0),i.success&&(this.removeSelf(),this.uipApp.notifications.notify(__("Folder deleted","uipress-pro"),"","sucess",!0))},async updateFolder(){let e=new FormData;e.append("action","uip_update_folder"),e.append("security",uip_ajax.security),e.append("folderId",this.folder.id),e.append("title",this.folder.title),e.append("color",this.folder.color);const i=await this.sendServerRequest(uip_ajax.ajax_url,e);i.error&&this.uipApp.notifications.notify(i.message,"","error",!0),i.success&&(this.uipApp.notifications.notify(__("Folder updated","uipress-pro"),"","sucess",!0),this.folder.showEdit=!1)},async duplicateItem(e,i){let t=new FormData;t.append("action","uip_duplicate_post"),t.append("security",uip_ajax.security),t.append("postID",e.id);const n=await this.sendServerRequest(uip_ajax.ajax_url,t);if(n.error&&this.uipApp.notifications.notify(n.message,"","error",!0),n.success){this.uipApp.notifications.notify(__("Item duplicated","uipress-pro"),"","sucess",!0);let t=JSON.parse(JSON.stringify(e));t.id=n.newID,t.title=n.newTitle,t.draft="draft",this.folder.content.splice(i,0,t)}},async deleteItem(e,i){let t=new FormData;t.append("action","uip_delete_post_from_folder"),t.append("security",uip_ajax.security),t.append("postID",e.id);const n=await this.sendServerRequest(uip_ajax.ajax_url,t);n.error&&this.uipApp.notifications.notify(n.message,"","error",!0),n.success&&(this.uipApp.notifications.notify(__("Item deleted","uipress-pro"),"","sucess",!0),this.folder.content.splice(i,1),this.folder.totalFound-=1,this.folder.count-=1)},itemAdded(e){if(e.added){if(this.folder.content.filter(i=>i.id===e.added.element.id).length>1)return void this.folder.content.splice(e.added.newIndex,1);this.folder.content.sort(function(e,i){let t=e.title.toUpperCase(),n=i.title.toUpperCase();return t<n?-1:t>n?1:0}),this.folder.count+=1,this.updateItemFolder(e.added.element)}e.removed&&(this.folder.count-=1,this.folder.totalFound-=1)},updatePage(e){this.updateID(e.id),"editPost"==this.defaultLinkType?this.updateAppPage(e.edit_href):this.updateAppPage(e.view_href)},loadMore(e){e.page+=1,this.getFolderContent()},checkForBlank(e){""==e.search&&(e.page=1,this.getFolderContent(!0))}},template:'\n    \n    <div :data-id="folder.id">\n  \n  \n      \x3c!-- top folder --\x3e\n      <div class="uip-flex uip-flex-column uip-row-gap-xxs uip-max-w-100p">\n      \n        <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-default uip-padding-xxs uip-padding-top-xxxs uip-padding-bottom-xxxs hover:uip-background-muted uip-border-round uip-no-text-select" \n        :class="folder.open ? \'uip-background-muted\' : \'\'">\n          <div class="uip-icon uip-text-l" v-if="!folder.open" :style="\'color:\' + folder.color" @click="folder.open = !folder.open;getFolderContent(true)">folder</div>\n          <div class="uip-icon uip-text-l" v-if="folder.open" :style="\'color:\' + folder.color" @click="folder.open = !folder.open;getFolderContent(true)">folder_open</div>\n          <div class="uip-flex-grow" @click="folder.open = !folder.open;getFolderContent(true)">{{folder.title}}</div>\n          <div class="uip-text-muted">{{folder.count}}</div>\n          <dropdown pos="right top">\n            <template v-slot:trigger>\n              <div class="uip-icon uip-padding-xxxs uip-text-l hover:uip-background-muted uip-link-muted uip-border-round">more_vert</div>\n            </template>\n            <template v-slot:content>\n              \n              <div class="uip-flex uip-flex-column uip-w-200 uip-max-w-200">\n              \n                \n                \x3c!-- Update folders --\x3e\n                <div class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xxs" v-if="folder.showEdit">\n                \n                  <div class="uip-text-muted">{{strings.folderName}}</div>\n                  <input type="text" v-model="folder.title" class="uip-text-s uip-input-small">\n                  \n                  <div class="uip-text-muted uip-margin-top-xs">{{strings.folderColor}}</div>\n                  <div class="uip-background-muted uip-border-round uip-overflow-hidden uip-padding-xxs">\n                    <div class="uip-flex uip-flex-row uip-gap-xxs uip-flex-center">\n                      <color-select :value="{value:folder.color}" :returnData="(data)=>{ folder.color = data.value}"/>\n                    </div>\n                  </div>\n                  \n                  <button class="uip-button-primary uip-text-s uip-margin-top-s" @click="updateFolder()">{{strings.update}}</button>\n                \n                </div>\n                \n                <div class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xxs uip-flex-start">\n                  <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-muted" @click="folder.showEdit = !folder.showEdit">\n                    <div class="uip-icon uip-text-l">edit</div>\n                    <div class="">{{strings.edit}}</div>\n                  </div>\n                </div>\n                \n                <div v-if="folder.canDelete"  class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xxxs uip-flex-start">\n                  <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-danger" @click="deleteFolder()">\n                    <div class="uip-icon uip-text-l">delete</div>\n                    <div class="">{{strings.delete}}</div>\n                  </div>\n                </div>\n                \n              </div>\n              \n            </template>\n          </dropdown>\n        </div>\n        \n      </div> \n      \n      \x3c!-- Folder contents --\x3e\n      \n      <div v-if="folder.open" class="uip-max-w-100p uip-scale-in-top-center">\n        \n        <div class="uip-flex uip-flex-column uip-row-gap-xxs uip-max-w-100p uip-padding-xxxs uip-margin-bottom-xs uip-margin-left-xs uip-padding-left-xs uip-padding-bottom-remove uip-before-border">\n          \n          \n          <div class="uip-padding-s uip-flex uip-flex-middle uip-flex-center" v-if="folder.loading"><loading-chart></loading-chart></div>\n          \n          \n          <template v-if="folder.count > 10">\n          \n            \x3c!-- Search post types --\x3e\n            <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-text-muted uip-padding-xxs uip-padding-top-xxxs uip-padding-bottom-xxxs">\n              <div class="uip-icon uip-text-l">search</div>\n              <input class="uip-text-s uip-blank-input uip-flex-grow" :placeholder="strings.search" v-model="folder.search" @keyup="checkForBlank(folder)" v-on:keyup.enter="folder.page = 1; getFolderContent( true)">\n              <div class="uip-icon uip-padding-xxxs uip-text-l uip-text-muted">keyboard_return</div>\n            </div>\n            \n          \n          </template>\n          \n          <NewFolder :list="folder.content" :incrementCount="function(e){folder.count += e}" :parent="folder.id"/>\n          \n          \x3c!-- Loop through type content --\x3e\n          <UipDraggable v-if="folder.content && folder.content.length > 0" \n          :list="folder.content" \n          class="uip-flex uip-flex-column uip-max-w-100p"\n          :group="{ name: \'post-defaults\', pull: true, put: true, revertClone: true }"\n          animation="300"\n          @start="drag = true" \n          @end="drag = false" \n          @change="itemAdded"\n          :sort="false"\n          itemKey="id">\n            \n            \n            <template v-for="(item, index) in folder.content" :key="item.id" :index="index">\n            \n              <ContentFolder v-if="item.type == \'uip-ui-folder\'" :folder="item" :removeSelf="function(){folder.content.splice(index, 1)}" :currentID="currentID" :updateID="updateID"/>\n            \n              <div v-else class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-border-round uip-no-text-select uip-max-w-100p uip-padding-left-xxs uip-padding-right-xxs"\n              :class="currentID == item.id ? \'uip-cursor-pointer\' : \'uip-link-default\'">\n                \n                \n                \x3c!-- Post status --\x3e\n                <div class="uip-flex uip-flex-center uip-flex-middle uip-w-16">\n                  <div v-if="item.status == \'draft\'" class="uip-w-5 uip-ratio-1-1 uip-border-circle uip-background-orange uip-display-block"></div>\n                  <div v-else-if="item.status == \'publish\' || item.status == \'inherit\'" class="uip-w-5 uip-ratio-1-1 uip-border-circle uip-background-green uip-display-block"></div>\n                  <div v-else class="uip-w-5 uip-ratio-1-1 uip-border-circle uip-background-accent uip-display-block"></div>\n                </div>\n                \n                <div class="uip-overflow-hidden uip-text-ellipsis uip-no-wrap uip-flex-grow" @click="updatePage(item)" :class="currentID == item.id ? \'uip-text-accent\' : \'\'">{{item.title}}</div>\n                \n                <dropdown pos="right top">\n                  <template v-slot:trigger>\n                    <div class="uip-icon uip-padding-xxxs uip-text-l hover:uip-background-muted uip-link-muted uip-border-round">more_vert</div>\n                  </template>\n                  <template v-slot:content>\n                    \n                    <div class="uip-flex uip-flex-column uip-w-200 uip-max-w-200">\n                      \n                      <div class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xs uip-flex-start">\n                        <div class="uip-padding-xxs uip-border-round uip-text-xs uip-background-primary-wash uip-line-height-1">{{item.type}}</div>\n                        <div class="">{{item.title}}</div>\n                      </div>\n                      \n                      <div class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xxs uip-flex-start">\n                        <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-muted" @click="updateID(item.id);updateAppPage(item.view_href)">\n                          <div class="uip-icon uip-text-l">visibility</div>\n                          <div class="">{{strings.view}}</div>\n                        </div>\n                        <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-muted" @click="updateID(item.id);updateAppPage(item.edit_href)">\n                          <div class="uip-icon uip-text-l">edit</div>\n                          <div class="">{{strings.edit}}</div>\n                        </div>\n                        <div v-if="item.type != \'attachment\'" class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-muted" @click="duplicateItem(item, index)">\n                          <div class="uip-icon uip-text-l">content_copy</div>\n                          <div class="">{{strings.duplicate}}</div>\n                        </div>\n                      </div>\n                      \n                      <div v-if="item.canDelete" class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xxxs uip-flex-start">\n                        <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-danger" @click="deleteItem(item, index)">\n                          <div class="uip-icon uip-text-l">delete</div>\n                          <div class="">{{strings.delete}}</div>\n                        </div>\n                      </div>\n                      \n                    </div>\n                    \n                  </template>\n                </dropdown>\n                \n              </div>\n            \n            </template>\n            \n            \x3c!--FOOTER--\x3e\n            <template v-if="folder.content" >\n            \n              <div v-if="folder.content.length > 1 && folder.content.length < folder.totalFound" class="uip-padding-right-xs">\n                <div class="uip-text-s uip-link-muted uip-border-round uip-padding-xxs uip-padding-left-remove uip-display-inline-flex" @click="loadMore(folder)">{{strings.loadMore}}</div>\n              </div>\n              \n            </template>\n            \n            \n            \n          </UipDraggable>\n            \n        </div>\n        \n      </div>\n      \x3c!--End folder contents --\x3e\n      \n    </div>\n    \n    \n    \n    '};export default{components:{UipDraggable:VueDraggableNext,ContentFolder:contentFolder,NewFolder:newFolder},props:{display:String,name:String,block:Object},data(){return{loading:!1,defaults:[],currentID:!1,baseFolders:[],limitToauthor:this.get_block_option(this.block,"block","limitToAuthor"),strings:{placeholder:__("Input placeholder...","uipress-pro"),new:__("New","uipress-pro"),loadMore:__("Load more","uipress-pro"),search:__("Search","uipress-pro"),view:__("View","uipress-pro"),edit:__("Edit","uipress-pro"),duplicate:__("Duplicate","uipress-pro"),delete:__("Delete","uipress-pro"),folders:__("Folders","uipress-pro"),newFolder:__("New folder","uipress-pro"),folderName:__("Folder name","uipress-pro"),folderColor:__("Folder colour","uipress-pro"),create:__("Create","uipress-pro")}}},provide(){return{limitToauthor:this.limitToauthor,currentID:this.currentID,defaultLinkType:this.getDefaultLinkType,postTypes:this.getPostTypes}},inject:["uiTemplate"],async mounted(){await this.$nextTick(),this.getDefaults()},computed:{getDefaultLinkType(){let e=this.get_block_option(this.block,"block","defaultLink");return(e=this.isObject(e)?e.value:e)||"editPost"},getPostTypes(){return this.get_block_option(this.block,"block","searchPostTypes")},returnCurrentID(){return JSON.stringify(this.currentID)}},methods:{async getDefaults(){if(this.loading)return;this.loading=!0;let e=[];void 0!==this.getPostTypes&&Array.isArray(this.getPostTypes)&&(e=this.getPostTypes),e=JSON.stringify(e);let i=this.get_block_option(this.block,"block","limitToAuthor"),t=new FormData;t.append("action","uip_get_navigator_defaults"),t.append("security",uip_ajax.security),t.append("limitToauthor",i),t.append("postTypes",e);const n=await this.sendServerRequest(uip_ajax.ajax_url,t);this.loading=!1,n.error&&this.uipApp.notifications.notify(n.message,"","error",!0),n.success&&(this.baseFolders=n.baseFolders,this.defaults=n.postTypes)},async getDefaultContent(e,i){if(!e.open)return;"page"in e||(e.page=1),i&&(e.loading=!0);let t=this.get_block_option(this.block,"block","limitToAuthor"),n=new FormData;n.append("action","uip_get_default_content"),n.append("security",uip_ajax.security),n.append("limitToauthor",t),n.append("postType",e.type),n.append("page",e.page),n.append("search",e.search);const p=await this.sendServerRequest(uip_ajax.ajax_url,n);e.loading=!1,p.error&&this.uipApp.notifications.notify(p.message,"","error",!0),p.success&&(e.totalFound=p.totalFound,e.page>1?e.content=e.content.concat(p.content):e.content=p.content)},async updateItemFolder(e){let i=new FormData;i.append("action","uip_update_item_folder"),i.append("security",uip_ajax.security),i.append("item",JSON.stringify(e)),i.append("newParent","uipfalse");const t=await this.sendServerRequest(uip_ajax.ajax_url,i);t.error&&this.uipApp.notifications.notify(t.message,"","error",!0),t.success&&(e.parent="uipfalse")},async duplicateItem(e,i,t){let n=new FormData;n.append("action","uip_duplicate_post"),n.append("security",uip_ajax.security),n.append("postID",e.id);const p=await this.sendServerRequest(uip_ajax.ajax_url,n);if(p.error&&this.uipApp.notifications.notify(p.message,"","error",!0),p.success){this.uipApp.notifications.notify(__("Item duplicated","uipress-pro"),"","sucess",!0);let n=JSON.parse(JSON.stringify(e));n.id=p.newID,n.title=p.newTitle,n.status="draft",t.splice(i,0,n)}},async deleteItem(e,i,t){let n=new FormData;n.append("action","uip_delete_post_from_folder"),n.append("security",uip_ajax.security),n.append("postID",e.id);const p=await this.sendServerRequest(uip_ajax.ajax_url,n);p.error&&this.uipApp.notifications.notify(p.message,"","error",!0),p.success&&(this.uipApp.notifications.notify(__("Item deleted","uipress-pro"),"","sucess",!0),t.content.splice(i,1),t.totalFound-=1)},itemAdded(e){if(e.added){if("uip-ui-folder"!==e.added.element.type&&(this.baseFolders.splice(e.added.newIndex,1),this.uipApp.notifications.notify(__("Item removed from folder","uipress-pro"),"","error")),this.baseFolders.filter(i=>i.id===e.added.element.id).length>1)return void this.baseFolders.splice(e.added.newIndex,1);this.baseFolders.sort(function(e,i){let t=e.title.toUpperCase(),n=i.title.toUpperCase();return t<n?-1:t>n?1:0}),this.updateItemFolder(e.added.element)}},updatePage(e){this.currentID=e.id,"editPost"==this.getDefaultLinkType?this.updateAppPage(e.edit_href):this.updateAppPage(e.view_href)},newPostType(e){this.currentID=!1,this.updateAppPage(e.new_href)},loadMore(e){e.page+=1,this.getDefaultContent(e)},checkForBlank(e){""==e.search&&(e.page=1,this.getDefaultContent(e,!0))}},template:'\n    \n    <div>\n    \n      <div class="uip-padding-s uip-flex uip-flex-middle uip-flex-center" v-if="loading"><loading-chart></loading-chart></div>\n      \n      <div class="uip-flex uip-flex-column uip-max-w-100p" v-else>\n        <template v-for="type in defaults">\n        \n          <div class="uip-flex uip-flex-column uip-row-gap-xxs uip-max-w-100p">\n          \n            <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-default uip-padding-xxs hover:uip-background-muted uip-border-round uip-no-text-select" \n            :class="type.open ? \'uip-background-muted\' : \'\'" @click="type.open = !type.open;getDefaultContent(type, true)">\n              <div class="uip-icon uip-text-l">database</div>\n              <div class="uip-flex-grow">{{type.label}}</div>\n              <div class="uip-text-muted">{{type.count}}</div>\n            </div>\n            \n            <div v-if="type.open" class="uip-max-w-100p uip-scale-in-top-center">\n              \n              \n              <div class="uip-flex uip-flex-column uip-row-gap-xxs uip-max-w-100p uip-padding-xxxs uip-margin-bottom-xs uip-margin-left-s">\n                \n                \x3c!-- Search post types --\x3e\n                <div v-if="type.count > 10" class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-no-text-select uip-max-w-100p">\n                  <div class="uip-w-5 uip-ratio-1-1 uip-position-relative"><div class="uip-icon uip-position-absolute uip-top-50p uip-left-50p uip-translate-all-50p">search</div></div>\n                  <input class="uip-text-s uip-blank-input uip-flex-grow" :placeholder="strings.search" v-model="type.search" @keyup="checkForBlank(type)" v-on:keyup.enter="type.page = 1; getDefaultContent(type, true)">\n                  <div class="uip-icon uip-padding-xxxs uip-text-l uip-text-muted uip-border-round">keyboard_return</div>\n                </div>\n                \n                \x3c!-- new post type --\x3e\n                <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-link-default uip-border-round uip-no-text-select uip-max-w-100p" @click="newPostType(type)">\n                  <div class="uip-w-5 uip-ratio-1-1 uip-position-relative"><div class="uip-icon uip-position-absolute uip-top-50p uip-left-50p uip-translate-all-50p">add</div></div>\n                  <div class="uip-overflow-hidden uip-text-ellipsis uip-no-wrap uip-flex-grow">{{strings.new}} {{type.name}}</div>\n                </div>\n                \n                <div class="uip-padding-s uip-flex uip-flex-middle uip-flex-center" v-if="type.loading"><loading-chart></loading-chart></div>\n                \n                \x3c!-- Loop through type content --\x3e\n                <UipDraggable v-if="type.content && type.content.length > 0" \n                :list="type.content" \n                class="uip-flex uip-flex-column uip-max-w-100p"\n                :group="{ name: \'post-defaults\', pull: \'clone\', put: false, revertClone: true }"\n                animation="300"\n                @start="drag = true" \n                @end="drag = false" \n                :sort="false"\n                itemKey="id">\n                \n                  <template v-for="(item, index) in type.content" :key="type.id" :index="index">\n                  \n                    <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-border-round uip-no-text-select uip-max-w-100p"\n                    :class="currentID == item.id ? \'uip-cursor-pointer\' : \'uip-link-default\'">\n                      \n                      <div v-if="1==2" class="uip-cursor-pointer uip-background-muted uip-icon uip-border-round uip-block-drag">drag_indicator</div>\n                      \n                      \x3c!-- Post status --\x3e\n                      <div v-if="item.status == \'draft\'" class="uip-w-5 uip-ratio-1-1 uip-border-circle uip-background-orange uip-display-block"></div>\n                      <div v-else-if="item.status == \'publish\' || item.status == \'inherit\'" class="uip-w-5 uip-ratio-1-1 uip-border-circle uip-background-green uip-display-block"></div>\n                      <div v-else class="uip-w-5 uip-ratio-1-1 uip-border-circle uip-background-accent uip-display-block"></div>\n                      \n                      <div class="uip-overflow-hidden uip-text-ellipsis uip-no-wrap uip-flex-grow" @click="updatePage(item)" :class="currentID == item.id ? \'uip-text-accent\' : \'\'">{{item.title}}</div>\n                      \n                      <dropdown pos="right top">\n                        <template v-slot:trigger>\n                          <div class="uip-icon uip-padding-xxxs uip-text-l hover:uip-background-muted uip-link-muted uip-border-round">more_vert</div>\n                        </template>\n                        <template v-slot:content>\n                          \n                          <div class="uip-flex uip-flex-column uip-max-w-200 uip-text-default">\n                            \n                            <div class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xs uip-flex-start">\n                              <div class="uip-padding-xxs uip-border-round uip-text-xs uip-background-primary-wash uip-line-height-1">{{item.type}}</div>\n                              <div class="">{{item.title}}</div>\n                            </div>\n                            \n                            <div class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xxs">\n                            \n                              <a :href="item.view_href" \n                              class="uip-no-underline uip-flex uip-flex-row uip-gap-s uip-flex-center uip-link-muted uip-flex-reverse uip-flex-between" \n                              @click="currentID = item.id;updateAppPage(item.view_href)">\n                                <div class="uip-icon uip-text-l">visibility</div>\n                                <div class="">{{strings.view}}</div>\n                              </a>\n                              \n                              <a :href="item.edit_href" \n                              class="uip-no-underline uip-flex uip-flex-row uip-gap-s uip-flex-center uip-link-muted uip-flex-reverse uip-flex-between" \n                              @click="currentID = item.id;updateAppPage(item.edit_href)">\n                                <div class="uip-icon uip-text-l">edit</div>\n                                <div class="">{{strings.edit}}</div>\n                              </a>\n                              \n                              <div v-if="item.type != \'attachment\'" class="uip-flex uip-flex-row uip-gap-s uip-flex-center uip-link-muted uip-flex-reverse uip-flex-between" @click="duplicateItem(item, index, type.content)">\n                                <div class="uip-icon uip-text-l">content_copy</div>\n                                <div class="">{{strings.duplicate}}</div>\n                              </div>\n                              \n                            </div>\n                            \n                            <div v-if="item.canDelete" class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-gap-xxxs ">\n                            \n                              <div class="uip-flex uip-flex-row uip-gap-s uip-flex-center uip-link-danger uip-flex-reverse uip-flex-between" @click="deleteItem(item, index, type)">\n                                <div class="uip-icon uip-text-l">delete</div>\n                                <div class="">{{strings.delete}}</div>\n                              </div>\n                            </div>\n                            \n                          </div>\n                          \n                        </template>\n                      </dropdown>\n                      \n                    </div>\n                  \n                  </template>\n                  \n                </UipDraggable>\n                \n                <div v-if="type.content.length < type.totalFound" class="uip-padding-right-xs">\n                  <div class="uip-text-s uip-link-muted uip-border-round uip-padding-xxs uip-padding-left-remove uip-display-inline-flex" @click="loadMore(type)">{{strings.loadMore}}</div>\n                </div>\n                  \n              </div>\n              \n            </div>\n          \n          </div>\n          \n        </template>\n        \n        \x3c!-- End base folders --\x3e\n        \n        \x3c!-- User folders --\x3e\n        \n        <div class="uip-text-muted uip-padding-xxs uip-margin-bottom-xxxs uip-margin-top-xxs">{{strings.folders}}</div>\n        \n        \x3c!-- Loop through top level folders --\x3e\n        <div class="uip-max-w-100p">\n        \n          <UipDraggable v-if="baseFolders.length > 0"\n          :list="baseFolders" \n          class="uip-flex uip-flex-column uip-max-w-100p"\n          :group="{ name: \'user-folders\', pull: true, put: true}"\n          animation="300"\n          @start="drag = true" \n          @end="drag = false" \n          @change="itemAdded"\n          :sort="false"\n          itemKey="id">\n          \n            <template v-for="(folder, index) in baseFolders" :key="folder.id" :index="index">\n            \n              <ContentFolder :folder="folder" :removeSelf="function(){baseFolders.splice(index, 1)}" :currentID="currentID" :updateID="function(d){currentID = d}"/>\n            \n            </template>\n            \n\n          \n          </UipDraggable>\n          \n          \x3c!--FOOTER--\x3e\n          <template>\n            <NewFolder :list="baseFolders" parent="uipfalse"/>\n          </template>\n        \n        </div>\n        \n      </div>\n      \n    </div>\n    \n    \n    \n    '};