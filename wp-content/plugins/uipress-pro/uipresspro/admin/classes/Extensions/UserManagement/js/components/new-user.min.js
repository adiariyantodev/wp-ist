const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export default{data(){return{userID:this.$route.params.id,user:{editData:{username:"",first_name:"",last_name:"",roles:[],user_email:"",userNotes:"",passWord:"",uip_profile_image:"",uip_user_group:[]}},userFetched:!1,strings:{viewUserProfile:__("Profile image","uipress-lite"),profileImage:__("Profile image","uipress-lite"),imageURL:__("Image URL","uipress-lite"),changeImage:__("Change image","uipress-lite"),firstName:__("First name","uipress-lite"),lastName:__("Last name","uipress-lite"),email:__("Email","uipress-lite"),roles:__("Roles","uipress-lite"),assignRoles:__("Assign roles","uipress-lite"),searchRoles:__("Search roles","uipress-lite"),userNotes:__("User notes","uipress-lite"),cancel:__("Cancel","uipress-lite"),saveUser:__("Save user","uipress-lite"),newUser:__("New user","uipress-lite"),username:__("Username","uipress-lite"),password:__("Password","uipress-lite")}}},methods:{async saveUser(){let e=new FormData;e.append("action","uip_add_new_user"),e.append("security",this.AjaxSecurity),e.append("user",JSON.stringify(this.user.editData));const s=await this.sendServerRequest(this.AjaxUrl,e);s.error?this.uipApp.notifications.notify(s.message,"","error",!0):(this.uipApp.notifications.notify(s.message,"","success",!0),this.uipApp.refreshTable(),this.$router.push("/users/"+s.userID))}},template:' \n      <FloatingPanel :startOpen="true" :closer="()=>$router.push(\'/\')">\n      \n        <div class="uip-flex uip-flex-grow uip-flex-column uip-max-h-100p uip-row-gap-s uip-padding-m uip-h-100p">\n        \n          \x3c!--Header--\x3e\n          <div class="uip-flex uip-flex-column uip-row-gap-xs" >\n            \n            \x3c!-- OVERVIEW --\x3e\n            <div class="uip-flex uip-flex-center uip-gap-s">\n              \n              <div class="uip-flex uip-flex-column uip-flex-grow">\n                <div class="uip-text-bold uip-text-l uip-text-emphasis">{{strings.newUser}}</div>\n              </div>\n              \n              <div class="uip-flex uip-text-l uip-self-flex-start">\n                \n                <a @click="$router.push(\'/\');$refs.userPanel.close()" class="uip-link-muted hover:uip-background-muted uip-border-rounder uip-icon uip-padding-xxs">close</a>\n                \n              </div>\n            </div>\n            \n          </div>\n          \n          \x3c!--Spacer--\x3e\n          <div></div>\n          \n          \x3c!--Details--\x3e\n          <div class="uip-flex-grow">\n            <div class="uip-grid-col-1-3 uip-padding-left-s">\n            \n            \n              <div class="uip-text-muted uip-flex uip-flex-center uip-gap-xs">\n                <span>{{strings.profileImage}}</span>\n              </div>\n              <InlineImageSelect :value="{url:user.editData.uip_profile_image}" :returnData="(d)=>{user.editData.uip_profile_image = d.url}"\n              :args="{hasPositioning:false}"/>\n              \n              <div class="uip-text-muted uip-flex uip-flex-center uip-gap-xs">\n                <span>{{strings.username}}</span>\n              </div>\n              <input type="text" class="uip-input uip-w-100p" v-model="user.editData.username">\n              \n              <div class="uip-text-muted uip-flex uip-flex-center uip-gap-xs">\n                <span>{{strings.password}}</span>\n              </div>\n              <input type="password" class="uip-input uip-w-100p" v-model="user.editData.password">\n              \n              <div class="uip-text-muted uip-flex uip-flex-center uip-gap-xs">\n                <span>{{strings.firstName}}</span>\n              </div>\n              <input type="text" class="uip-input uip-w-100p" v-model="user.editData.first_name">\n              \n              <div class="uip-text-muted uip-flex uip-flex-center uip-gap-xs">\n                <span>{{strings.lastName}}</span>\n              </div>\n              <input type="text" class="uip-input uip-w-100p" v-model="user.editData.last_name">\n              \n              <div class="uip-text-muted uip-flex uip-flex-center uip-gap-xs">\n                <span>{{strings.email}}</span>\n              </div>\n              <input type="text" class="uip-input uip-w-100p" v-model="user.editData.user_email">\n              \n              <div class="uip-text-muted uip-flex uip-flex-center uip-gap-xs">\n                <span>{{strings.roles}}</span>\n              </div>\n              <UserRoleSelect :selected="user.editData.roles"\n              :roleOnly="true"\n              :placeHolder="strings.assignRoles"\n              :searchPlaceHolder="strings.searchRoles"\n              :updateSelected="(d)=>{user.editData.roles=d}"/>\n              \n              <div class="uip-text-muted uip-flex uip-flex-center uip-gap-xs uip-flex-start uip-padding-top-xxs">\n                <span>{{strings.userNotes}}</span>\n              </div>\n              <textarea type="text" class="uip-input uip-w-100p" rows="4" v-model="user.editData.notes"></textarea>\n              \n            </div>\n          </div>\n          \n          \n          <div class="uip-flex uip-flex-between uip-gap-s">\n            <router-link :to="\'/\'" class="uip-button-default uip-no-underline uip-flex-grow uip-text-center">{{strings.cancel}}</router-link>\n            <button class="uip-button-primary uip-flex-grow" @click="saveUser()">{{strings.saveUser}}</button>\n          </div>\n          \n        \n        </div>  \n      \n      </FloatingPanel>'};